<div class="file-uploader">
  <div class="mb-4">
    <label class="form-label">{{ label }}</label>
    <input type="file" 
           [accept]="accept"
           (change)="onFileSelected($event)"
           class="form-input">
  </div>

  <div *ngIf="previewUrl" class="mb-4">
    <img [src]="previewUrl" alt="Preview" class="max-w-xs rounded-lg shadow-md">
  </div>

  <div *ngIf="selectedFile" class="flex items-center space-x-3">
    <button (click)="upload()" 
            [disabled]="isUploading"
            class="btn-primary">
      <i class="fas fa-upload mr-2"></i>
      {{ isUploading ? 'Subiendo...' : 'Subir archivo' }}
    </button>
    <button (click)="clear()" 
            [disabled]="isUploading"
            class="btn-secondary">
      Cancelar
    </button>
  </div>

  <div *ngIf="isUploading" class="mt-3">
    <div class="w-full bg-gray-200 rounded-full h-2">
      <div class="bg-primary h-2 rounded-full transition-all duration-300" 
           [style.width.%]="uploadProgress"></div>
    </div>
  </div>
</div>
<div class="bg-gray-50 min-h-screen py-12">
  <div class="container mx-auto px-4">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">Noticias</h1>
      <p class="text-xl text-gray-600">Mantente informado con las últimas noticias</p>
    </div>

    <!-- Filtros de categorías -->
    <div class="mb-8 flex flex-wrap gap-3 justify-center">
      <button (click)="onCategoryChange(null)" [class.bg-primary]="selectedCategory === null"
        [class.text-white]="selectedCategory === null" [class.bg-white]="selectedCategory !== null"
        [class.text-gray-700]="selectedCategory !== null"
        class="px-6 py-2 rounded-full border border-gray-300 hover:border-primary transition-all">
        Todas
      </button>
      <button *ngFor="let category of categories" (click)="onCategoryChange(category.id)"
        [class.bg-primary]="selectedCategory === category.id" [class.text-white]="selectedCategory === category.id"
        [class.bg-white]="selectedCategory !== category.id" [class.text-gray-700]="selectedCategory !== category.id"
        class="px-6 py-2 rounded-full border border-gray-300 hover:border-primary transition-all">
        {{ category.name }}
      </button>
    </div>

    <!-- Loading -->
    <div *ngIf="isLoading" class="text-center py-20">
      <i class="fas fa-spinner fa-spin text-5xl text-primary"></i>
      <p class="mt-4 text-gray-600">Cargando noticias...</p>
    </div>

    <!-- Lista de noticias -->
    <div *ngIf="!isLoading && newsList.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
      <article *ngFor="let news of newsList"
        class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow cursor-pointer"
        [routerLink]="['/news', news.slug]">
        <div class="relative h-48 overflow-hidden">
          <img [src]="news.imageUrl || 'assets/placeholder.jpg'" [alt]="news.title"
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300">
          <span class="absolute top-3 right-3 bg-primary text-white px-3 py-1 rounded-full text-sm font-semibold">
            {{ news.categoryName }}
          </span>
        </div>
        <div class="p-6">
          <h2 class="text-xl font-bold text-gray-900 mb-2 hover:text-primary transition-colors">
            {{ news.title }}
          </h2>
          <p class="text-gray-600 mb-4">{{ (news.summary || '') | truncate:150 }}</p>
          <div class="flex items-center justify-between text-sm">
            <span class="text-gray-500">
              <i class="far fa-calendar mr-2"></i>
              {{ (news.publishedAt || '') | timeAgo }}
            </span>
            <span class="text-primary font-medium">
              Leer más →
            </span>
          </div>
        </div>
      </article>
    </div>

    <!-- No hay noticias -->
    <div *ngIf="!isLoading && newsList.length === 0" class="text-center py-20">
      <i class="fas fa-newspaper text-6xl text-gray-300 mb-4"></i>
      <h3 class="text-2xl font-bold text-gray-700 mb-2">No hay noticias disponibles</h3>
      <p class="text-gray-500">Intenta seleccionar otra categoría</p>
    </div>

    <!-- Paginación -->
    <app-pagination *ngIf="totalPages > 1" [currentPage]="currentPage" [totalPages]="totalPages"
      [totalElements]="totalElements" [pageSize]="pageSize" (pageChange)="onPageChange($event)">
    </app-pagination>
  </div>
</div>
<div class="bg-gray-50 min-h-screen py-12">
  <div class="container mx-auto px-4">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">Iglesias Adventistas</h1>
      <p class="text-xl text-gray-600">Encuentra una iglesia cerca de ti</p>
    </div>

    <!-- Filtros -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Búsqueda -->
        <div class="md:col-span-2">
          <label class="form-label">Buscar iglesia</label>
          <div class="relative">
            <input type="text" 
                   [(ngModel)]="searchTerm"
                   (keyup.enter)="onSearch()"
                   placeholder="Nombre o dirección..."
                   class="form-input pl-10">
            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          </div>
        </div>

        <!-- Filtro por ciudad -->
        <div>
          <label class="form-label">Ciudad</label>
          <select [(ngModel)]="selectedCity" 
                  (change)="onCityChange()"
                  class="form-input">
            <option value="">Todas las ciudades</option>
            <option *ngFor="let city of cities" [value]="city">{{ city }}</option>
          </select>
        </div>
      </div>
      
      <div class="mt-4">
        <button (click)="onSearch()" class="btn-primary">
          <i class="fas fa-search mr-2"></i>
          Buscar
        </button>
      </div>
    </div>

    <!-- Loading -->
    <div *ngIf="isLoading" class="text-center py-20">
      <i class="fas fa-spinner fa-spin text-5xl text-primary"></i>
      <p class="mt-4 text-gray-600">Cargando iglesias...</p>
    </div>

    <!-- Lista de iglesias -->
    <div *ngIf="!isLoading && filteredChurches.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
      <div *ngFor="let church of filteredChurches" 
           class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow">
        <div class="relative h-48">
          <img [src]="church.imageUrl || 'assets/placeholder-church.jpg'" 
               [alt]="church.name"
               class="w-full h-full object-cover">
          <span *ngIf="church.isActive" 
                class="absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold">
            Activa
          </span>
        </div>
        
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-900 mb-3">{{ church.name }}</h3>
          
          <div class="space-y-2 text-sm text-gray-600 mb-4">
            <div class="flex items-start">
              <i class="fas fa-map-marker-alt mt-1 mr-2 text-primary"></i>
              <span>{{ church.address }}, {{ church.city }}</span>
            </div>
            
            <div *ngIf="church.phone" class="flex items-center">
              <i class="fas fa-phone mr-2 text-primary"></i>
              <span>{{ church.phone }}</span>
            </div>
            
            <div *ngIf="church.email" class="flex items-center">
              <i class="fas fa-envelope mr-2 text-primary"></i>
              <span>{{ church.email }}</span>
            </div>
            
            <div *ngIf="church.serviceSchedule" class="flex items-start">
              <i class="fas fa-clock mt-1 mr-2 text-primary"></i>
              <span>{{ church.serviceSchedule }}</span>
            </div>
          </div>

          <div class="flex space-x-2">
            <button *ngIf="church.latitude && church.longitude"
                    (click)="openMap(church)" 
                    class="flex-1 btn-primary text-sm py-2">
              <i class="fas fa-map-marked-alt mr-2"></i>
              Ver mapa
            </button>
            <a [routerLink]="['/churches', church.slug]" 
               class="flex-1 btn-secondary text-sm py-2 text-center">
              Ver detalles
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- No hay resultados -->
    <div *ngIf="!isLoading && filteredChurches.length === 0" class="text-center py-20">
      <i class="fas fa-church text-6xl text-gray-300 mb-4"></i>
      <h3 class="text-2xl font-bold text-gray-700 mb-2">No se encontraron iglesias</h3>
      <p class="text-gray-500">Intenta con otros términos de búsqueda</p>
    </div>

    <!-- Paginación -->
    <app-pagination *ngIf="totalPages > 1"
                    [currentPage]="currentPage"
                    [totalPages]="totalPages"
                    [totalElements]="totalElements"
                    [pageSize]="pageSize"
                    (pageChange)="onPageChange($event)">
    </app-pagination>
  </div>
</div>